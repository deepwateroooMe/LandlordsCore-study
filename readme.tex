% Created 2023-01-29 Sun 10:02
\documentclass[9pt, b5paper]{article}
\usepackage{xeCJK}
\usepackage{minted}
\usepackage[T1]{fontenc}
\usepackage[scaled]{beraserif}
\usepackage[scaled]{berasans}
\usepackage[scaled]{beramono}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{float}
\usepackage{textcomp}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{latexsym}
\usepackage{natbib}
\usepackage{geometry}
\geometry{left=1.2cm,right=1.2cm,top=1.5cm,bottom=1.2cm}
\newminted{common-lisp}{fontsize=\footnotesize} 
\usepackage[xetex,colorlinks=true,CJKbookmarks=true,linkcolor=blue,urlcolor=blue,menucolor=blue]{hyperref}
\author{deepwaterooo}
\date{\today}
\title{ET框架小游戏--斗地主源码学习}
\hypersetup{
  pdfkeywords={},
  pdfsubject={},
  pdfcreator={Emacs 27.2 (Org mode 8.2.7c)}}
\begin{document}

\maketitle
\tableofcontents


\section{程序还没能运行起来}
\label{sec-1}
\begin{itemize}
\item 看似是可以注册成功的,也可以登录成功
\item 但匹配玩家的时候出错了,游戏没能运行起来
\item 需要去找一下是什么原因,登录服上有三个玩家吗?如何检查?
\item 截屏日志下来参考,为什么就出错了呢?
\begin{minted}[fontsize=\scriptsize,linenos=false]{text}
(Program.cs:41) server start........................ 1 AllServer
(Log.cs:51) { "_t" : "C2R_Login_Req", "RpcId" : 1, "Account" : "1", "Password" : "1" }
(C2R_Login_ReqHandler.cs:19) 登录请求：{Account:'1',Password:'1'}
(Log.cs:51) { "_t" : "DBQueryJsonRequest", "RpcId" : 1, "CollectionName" : "AccountInfo", "Json" : "{ \"Account\" : \"1\", \"Password\" : \"1\" }" }
(Log.cs:51) { "_t" : "DBQueryJsonRequest", "RpcId" : 1, "CollectionName" : "AccountInfo", "Json" : "{ \"Account\" : \"1\", \"Password\" : \"1\" }" }
(Log.cs:51) { "_t" : "DBQueryJsonResponse", "Components" : [{ "_t" : "AccountInfo", "_id" : NumberLong("391246289567932"), "C" : [], "Account" : "1", "Password" : "1" }], "RpcId" : 1, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "DBQueryJsonResponse", "Components" : [{ "_t" : "AccountInfo", "_id" : NumberLong("391246289567932"), "C" : [], "Account" : "1", "Password" : "1" }], "RpcId" : 1, "Error" : 0, "Message" : null }
(C2R_Login_ReqHandler.cs:30) 账号登录成功{ "_t" : "AccountInfo", "_id" : NumberLong("391246289567932"), "C" : [], "Account" : "1", "Password" : "1" }
(Log.cs:51) { "_t" : "R2G_GetLoginKey_Req", "RpcId" : 2, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "R2G_GetLoginKey_Req", "RpcId" : 2, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "G2R_GetLoginKey_Ack", "RpcId" : 2, "Error" : 0, "Message" : null, "Key" : NumberLong("3058905572509283672") }
(Log.cs:51) { "_t" : "G2R_GetLoginKey_Ack", "RpcId" : 2, "Error" : 0, "Message" : null, "Key" : NumberLong("3058905572509283672") }
(Log.cs:51) { "_t" : "R2C_Login_Ack", "RpcId" : 1, "Error" : 0, "Message" : "", "Key" : NumberLong("3058905572509283672"), "Address" : "127.0.0.1:10002" }
(Log.cs:51) { "_t" : "C2G_LoginGate_Req", "RpcId" : 2, "Key" : NumberLong("3058905572509283672") }
(Log.cs:51) { "_t" : "ObjectAddRequest", "RpcId" : 3, "Key" : NumberLong("391248712695970"), "InstanceId" : NumberLong("391248712695970") }
(Log.cs:51) { "_t" : "ObjectAddRequest", "RpcId" : 3, "Key" : NumberLong("391248712695970"), "InstanceId" : NumberLong("391248712695970") }
(LocationComponent.cs:64) location add key: 391248712695970 instanceId: 391248712695970
(Log.cs:51) { "_t" : "ObjectAddResponse", "RpcId" : 3, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "ObjectAddResponse", "RpcId" : 3, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "ObjectAddRequest", "RpcId" : 4, "Key" : NumberLong("391248712695968"), "InstanceId" : NumberLong("391248712695968") }
(Log.cs:51) { "_t" : "ObjectAddRequest", "RpcId" : 4, "Key" : NumberLong("391248712695968"), "InstanceId" : NumberLong("391248712695968") }
(LocationComponent.cs:64) location add key: 391248712695968 instanceId: 391248712695968
(Log.cs:51) { "_t" : "ObjectAddResponse", "RpcId" : 4, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "ObjectAddResponse", "RpcId" : 4, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "G2R_PlayerOnline_Req", "RpcId" : 5, "UserID" : NumberLong("391246289567932"), "GateAppID" : 1 }
(Log.cs:51) { "_t" : "G2R_PlayerOnline_Req", "RpcId" : 5, "UserID" : NumberLong("391246289567932"), "GateAppID" : 1 }
(G2R_PlayerOnline_ReqHandler.cs:21) 玩家391246289567932上线
(Log.cs:51) { "_t" : "R2G_PlayerOnline_Ack", "RpcId" : 5, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "R2G_PlayerOnline_Ack", "RpcId" : 5, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "G2C_LoginGate_Ack", "RpcId" : 2, "Error" : 0, "Message" : "", "PlayerID" : NumberLong("391248712695970"), "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "C2G_GetUserInfo_Req", "RpcId" : 3, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 6, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 6, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 6, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 6, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "G2C_GetUserInfo_Ack", "RpcId" : 3, "Error" : 0, "Message" : "", "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) }
(Log.cs:51) { "_t" : "C2G_StartMatch_Req", "RpcId" : 4 }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 7, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 7, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 7, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 7, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "G2C_StartMatch_Ack", "RpcId" : 4, "Error" : 0, "Message" : "" }
(Log.cs:51) { "_t" : "G2M_PlayerEnterMatch_Req", "RpcId" : 8, "PlayerID" : NumberLong("391248712695970"), "UserID" : NumberLong("391246289567932"), "SessionID" : NumberLong("391248712695968") }
(Log.cs:51) { "_t" : "G2M_PlayerEnterMatch_Req", "RpcId" : 8, "PlayerID" : NumberLong("391248712695970"), "UserID" : NumberLong("391246289567932"), "SessionID" : NumberLong("391248712695968") }
(MatcherFactory.cs:22) 玩家391246289567932加入匹配队列
(Log.cs:51) { "_t" : "M2G_PlayerEnterMatch_Ack", "RpcId" : 8, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "M2G_PlayerEnterMatch_Ack", "RpcId" : 8, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "C2G_GetUserInfo_Req", "RpcId" : 5, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 9, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryRequest", "RpcId" : 9, "_id" : NumberLong("391246289567932"), "CollectionName" : "UserInfo", "NeedCache" : false }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 9, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "DBQueryResponse", "RpcId" : 9, "Error" : 0, "Message" : null, "Component" : { "_t" : "UserInfo", "_id" : NumberLong("391246289567932"), "C" : [], "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) } }
(Log.cs:51) { "_t" : "G2C_GetUserInfo_Ack", "RpcId" : 5, "Error" : 0, "Message" : "", "NickName" : "用户1", "Wins" : 0, "Loses" : 0, "Money" : NumberLong(10000) }
(Log.cs:51) { "_t" : "C2R_Login_Req", "RpcId" : 1, "Account" : "2", "Password" : "2" }
(C2R_Login_ReqHandler.cs:19) 登录请求：{Account:'2',Password:'2'}
(Log.cs:51) { "_t" : "DBQueryJsonRequest", "RpcId" : 10, "CollectionName" : "AccountInfo", "Json" : "{ \"Account\" : \"2\", \"Password\" : \"2\" }" }
(Log.cs:51) { "_t" : "DBQueryJsonRequest", "RpcId" : 10, "CollectionName" : "AccountInfo", "Json" : "{ \"Account\" : \"2\", \"Password\" : \"2\" }" }
(Log.cs:51) { "_t" : "G2M_PlayerExitMatch_Req", "RpcId" : 11, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "G2M_PlayerExitMatch_Req", "RpcId" : 11, "UserID" : NumberLong("391246289567932") }
(G2M_PlayerExitMatch_ReqHandler.cs:16) 玩家391246289567932退出匹配队列
(Log.cs:51) { "_t" : "M2G_PlayerExitMatch_Ack", "RpcId" : 11, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "M2G_PlayerExitMatch_Ack", "RpcId" : 11, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "G2R_PlayerOffline_Req", "RpcId" : 12, "UserID" : NumberLong("391246289567932") }
(Log.cs:51) { "_t" : "G2R_PlayerOffline_Req", "RpcId" : 12, "UserID" : NumberLong("391246289567932") }
(G2R_PlayerOffline_ReqHandler.cs:16) 玩家391246289567932下线
(Log.cs:51) { "_t" : "R2G_PlayerOffline_Ack", "RpcId" : 12, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "R2G_PlayerOffline_Ack", "RpcId" : 12, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "DBQueryJsonResponse", "Components" : [{ "_t" : "AccountInfo", "_id" : NumberLong("391246292713733"), "C" : [], "Account" : "2", "Password" : "2" }], "RpcId" : 10, "Error" : 0, "Message" : null }
(Log.cs:51) { "_t" : "DBQueryJsonResponse", "Components" : [{ "_t" : "AccountInfo", "_id" : NumberLong("391246292713733"), "C" : [], "Account" : "2", "Password" : "2" }], "RpcId" : 10, "Error" : 0, "Message" : null }
(C2R_Login_ReqHandler.cs:30) 账号登录成功{ "_t" : "AccountInfo", "_id" : NumberLong("391246292713733"), "C" : [], "Account" : "2", "Password" : "2" }
(Log.cs:51) { "_t" : "R2G_GetLoginKey_Req", "RpcId" : 13, "UserID" : NumberLong("391246292713733") }
(Log.cs:51) { "_t" : "R2G_GetLoginKey_Req", "RpcId" : 13, "UserID" : NumberLong("391246292713733") }
(Log.cs:51) { "_t" : "G2R_GetLoginKey_Ack", "RpcId" : 13, "Error" : 0, "Message" : null, "Key" : NumberLong("2604512554294212935") }
(Log.cs:51) { "_t" : "G2R_GetLoginKey_Ack", "RpcId" : 13, "Error" : 0, "Message" : null, "Key" : NumberLong("2604512554294212935") }
\end{minted}
\end{itemize}
% Emacs 27.2 (Org mode 8.2.7c)
\end{document}